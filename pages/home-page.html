<script src="../scripts/gettopics.js" class="topics"></script>

<polymer-element name="home-page">
    <template>
        <template repeat="{{topic in topics}}">
            <div style="width:50%;float:left" cross-fade>
                <h2>{{topic.name}}</h2>
                <p>{{topic.description}}</p>
                
                <ul>
                    <template repeat="{{page in topic.pages}}">
                        <li><a href="#/{{page | tolower}}">{{page}}</a></li>
                    </template>
                </ul>
            </div>
            <img src="images/{{topic.name | tolower | hyphenate}}.jpg"
                width="37%" style="float:right;vertical-align:text-top" cross-fade/>
        </template>
    </template>
    
    <script>
        (function (){
            var prototype = {
                tolower: function (str){
                    return str.toLowerCase();
                },
                hyphenate: function (str){
                    return str.replace(" ", "-");
                },
                created: function (){
                    this.topics = [];
                },
                ready: function (){
                    var t = this;
                    getTopics(function (topics){
                        t.topics = topics;
                    });
                }
            };

            Polymer(prototype);
        })();
    </script>
</polymer-element>