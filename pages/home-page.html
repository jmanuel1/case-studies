<script src="/case-studies/scripts/gettopics.js"></script>

<polymer-element name="home-page">
    <template>
        <template repeat="{{topic in topics}}">
            <div cross-fade>
                <h2>{{topic.name}}</h2>
                <p>{{topic.description}}</p>
                
                <ul>
                    <template repeat="{{page in topic.pages}}">
                        <li><a href="/#/{{page | tolower}}">{{page}}</a></li>
                    </template>
                </ul>
            </div>
        </template>
    </template>
    
    <script>
        (function (){
            var prototype = {
                tolower: function (str){
                    return str.toLowerCase();
                },
                created: function (){
                    this.topics = [];
                },
                ready: function (){
                    var t = this;
                    getTopics(function (topics){
                        t.topics = topics;
                    });
                }
            };

            Polymer(prototype);
        })();
    </script>
</polymer-element>